<div class="mat-elevation-z8" *ngIf="!!dataSource">
  <div class="table-responsive">
    <div class="spinner-container" *ngIf="dataSource.loading$ | async">
      <mat-spinner></mat-spinner>
    </div>
    <div class="">
      <table mat-table [dataSource]="dataSource" class="scroll-fix"
             matSort matSortDirection="asc" matSortDisableClear>

        <ng-container matColumnDef="{{col.name}}" *ngFor="let col of columnInfoList; let i=index">
          <th mat-header-cell *matHeaderCellDef [resizeColumn]="i">
            <div class="d-inline-flex justify-content-center">
              <div mat-sort-header>
                {{col.displayText}}
                <button class="btn btn-link text-light text-sm-center btn-sort" >
                  <fa-icon *ngIf="sort?.active == col.name && sort?.direction == 'asc'"
                           class="btn-sort-active"
                           [icon]="['fas', 'sort-up']"></fa-icon>
                  <fa-icon *ngIf="sort?.active == col.name && sort?.direction == 'desc'"
                           class="btn-sort-active"
                           [icon]="['fas', 'sort-down']"></fa-icon>
                  <fa-icon *ngIf="sort?.active !== col.name "
                           [icon]="['fas', 'sort']"></fa-icon>
                </button>
              </div>
            </div>
          </th>
          <td mat-cell class="p-2" *matCellDef="let element"> {{element[col.name]}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="propertyNames; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: propertyNames;" (click)="rowClicked(row)"></tr>
      </table>
    </div>
  </div>
  <mat-paginator [length]="50" [pageSize]="5"
                 [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
</div>
